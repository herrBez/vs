\exercise{Esercizio 2}
         {
           Prove that if \confSs{\wbS{b}{S}}{s} \Rar{*} $s'$ then $\B{b}' = \semfalse$
         }
         {
           Assumo che \confSs{\wbS{b}{S}}{s} $\Rar{*}$ $s'$.

            Allo statement di partenza posso applicare solo la regola \whileSOS 
            (essendo la semantica SOS deterministica), da cui ottengo:  
           $$
            \confSs{\ifABC{b}{S; \wbS{b}{S}}{\skipForFriends}}{s} 
           $$
            che dipendentemente dalla valutazione di $b$ può: 
            \begin{itemize}
               \item eseguire il ramo \texttt{else}, in cui dopo una 
               \skipForFriends{} terminerà 
               \item eseguire il ramo \texttt{if}, in cui eseguirà (almeno) 
               un'altra iterazione
            \end{itemize}
           \begin{proof}
                        Procedo per induzione sulla lunghezza della derivazione.

           \begin{itemize}
             \item $\boxed{\text{Caso Base}: n = 3}$ ovvero 
           $\boxed{\B{b} = \semfalse}$ 

          $$
          \begin{array}{lrr}
    \confSs{\wbS{b}{S}}{s} \Rar{} & \whileSOS & \\
    \confSs{\ifABC{b}{S; \wbS{b}{S}}{\skipForFriends}}{s} \Rar{} & \ifffSOS & \\
    \confSs{\skipForFriends}{s} \Rar{} & \skipSOS & \\
    s & & \\
          \end{array}
          $$

           Siccome $s = s'$ e $\B{b} = \semfalse$ l'asserto è dimostrato.

           \item $\boxed{\text{Ipotesi Induttiva}} $ \confSs{\wbS{b}{S}}{s} \Rar{*} $s'$ then $\B{b}' = \semfalse$

           \item $\boxed{\text{Passo Induttivo}: n \rightarrow n + l,
             \text{ dove } \confSs{S}{s} \Rar{l} s' \text{, ovvero } \B{b} = \semtrue}$
          $$
          \begin{array}{lrr}
    \confSs{\wbS{b}{S}}{s} \Rar{} & \whileSOS & \\
    \confSs{\ifABC{b}{S; \wbS{b}{S}}{\skipForFriends}}{s} \Rar{} & \ifttSOS & \\
    \confSs{S; \wbS{b}{S}}{s} \Rar{*} & (Determinismo + Assunzione) & \\
    s' & & \\
          \end{array}
          $$

             Per il lemma di decomposizione so che $\exists s''\in\states$:
             \begin{itemize}
             \item \confSs{S}{s} \Rar{*} $s''$ (ovvero $\exists l:$
               \confSs{S}{s} \Rar{l} $s''$)
             \item \confSs{\wbS{b}{S}}{s''} \Rar{*} $s'$
             \end{itemize}
             siccome la derivazione di \confSs{\wbS{b}{S}}{s''} \Rar{*} $s'$ è più
             corta di quella di partenza (\confSs{\wbS{b}{S}}{s} \Rar{*} $s'$)
             di $l$ passi, posso applicare l'ipotesi
             induttiva e concludere che $\B{b}'$ deve necessariamente essere
             uguale \semfalse.
             
            \end{itemize} 
           \end{proof}
         }
